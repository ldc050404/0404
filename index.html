<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Enchantments</title>
<link rel="icon" type="image/png" href="1111.png">

<style>
  /* ê¸°ë³¸ í…Œë§ˆ: í™”ì´íŠ¸ + ê·¸ë¦° */
  :root{
    --bg:#ffffff;
    --text:#111111;
    --muted:#888888;
    --accent:#54FC54;
    --card-shadow: 0 6px 24px rgba(0,0,0,0.08);
    --radius:10px;
    --gap:12px;
    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Noto Sans KR";
  }
  html,body{height:100%;margin:0;background:var(--bg);color:var(--text);font-family:Inter, "Noto Sans KR", Arial, sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
  .wrap{max-width:1200px;margin:18px auto;padding:20px;box-sizing:border-box}
  /* ìƒë‹¨ ë¡œê³  */
  header{display:flex;align-items:center;gap:14px; margin-bottom:18px}
  .logo {
    display:flex;align-items:center;gap:10px;
  }
  .logo img.logo-main{ width: 200px; height:auto; object-fit:contain; transform:scale(5); transform-origin:left center; /* 5ë°° í™•ëŒ€ ì‹œê° */ }
  /* ì œëª© í…ìŠ¤íŠ¸ (ìš°ì¸¡ ìƒë‹¨ì˜ hyperdramaì€ ì‚­ì œ ìš”ì²­ë˜ì–´ ì œê±°) */
  h1.site-title{font-size:20px;margin:0;color:var(--muted);letter-spacing:1px}
  /* ê²€ìƒ‰ ì˜ì—­ ì¤‘ì•™ */
  .search-area{display:flex;flex-direction:column;align-items:center;gap:12px;margin:18px 0}
  .search-input{
    width:70%; max-width:760px; min-width:320px;
    display:flex;
    align-items:center;
    gap:8px;
    padding:14px 16px;
    border-radius:999px;
    box-shadow:var(--card-shadow);
    background:linear-gradient(180deg, #fff, #fbfffb);
  }
  .search-input input{
    border:0;outline:0;font-size:18px;background:transparent;width:100%;
    color:var(--text);
  }
  .search-input button{
    border:0;background:transparent;font-size:18px;cursor:pointer;padding:6px;
  }

  /* í‹°ì–´ ë²„íŠ¼ë“¤ (ê²€ìƒ‰ì°½ ë°‘) */
  .tier-row{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin-top:6px}
  .tier-btn{
    padding:8px 12px;border-radius:8px;border:1px solid rgba(0,0,0,0.06);
    background:#fff;cursor:pointer;font-weight:600;box-shadow:0 6px 18px rgba(0,0,0,0.04);
    transition:transform .12s, box-shadow .12s, opacity .12s;
  }
  .tier-btn:hover{transform:translateY(-3px)}
  .tier-btn.active{box-shadow:0 10px 40px rgba(0,0,0,0.08);}

  /* ë©”ì¸ ë ˆì´ì•„ì›ƒ: ì™¼ìª½=í…Œì´ë¸”, ì˜¤ë¥¸ìª½=ìƒì„¸ */
  .main{display:grid;grid-template-columns:1fr 360px;gap:20px;margin-top:20px}
  .card{background:#fff;border-radius:var(--radius);box-shadow:var(--card-shadow);padding:14px}
  /* í…Œì´ë¸” ìŠ¤íƒ€ì¼ */
  table{width:100%;border-collapse:collapse;font-size:14px}
  thead th{ text-align:left;padding:10px 12px;color:var(--muted);font-weight:700;border-bottom:1px solid #f0f0f0}
  tbody td{padding:10px 12px;border-bottom:1px solid #f7f7f7;vertical-align:middle}
  tbody tr{cursor:pointer}
  tbody tr:hover{background:rgba(0,0,0,0.02)}
  .chip{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;font-weight:700;font-size:13px}
  .chip .dot{width:10px;height:10px;border-radius:50%}
  /* ìƒì„¸ íŒ¨ë„ */
  .detail{display:flex;flex-direction:column;gap:10px}
  .detail .book{width:100%;height:180px;background:#fff;border-radius:8px;display:flex;align-items:center;justify-content:center;overflow:hidden}
  .detail .book img{max-width:100%;max-height:100%}
  .detail h3{margin:0;font-size:18px}
  .detail p{margin:0;color:var(--muted);font-size:13px}
  .detail .meta{display:flex;flex-direction:column;gap:6px;font-size:13px}
  .detail .meta .row{display:flex;justify-content:space-between;gap:8px}
  /* í•„í„° í† ê¸€ ìŠ¤íƒ€ì¼ small */
  .small{font-size:12px;padding:6px 8px}
  /* ë°˜ì‘í˜•: ëª¨ë°”ì¼ì—ì„œ ìƒì„¸ íŒ¨ë„ ì•„ë˜ë¡œ */
  @media(max-width:980px){
    .main{grid-template-columns:1fr; }
    .search-input{width:92%}
    .logo img.logo-main{ transform:scale(3.2) }
  }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">
        <!-- 0002.pngë¥¼ í¬ê²Œ(5ë°°) ë³´ì´ê²Œ ë°°ì¹˜ â€” íŒŒì¼ì´ë¦„ ë™ì¼í•˜ê²Œ ë‘ì„¸ìš” -->
        <img class="logo-main" src="0002.png" alt="logo 0002">
      </div>
      <div style="margin-left:12px;">
        <h1 class="site-title">Enchantments</h1>
      </div>
    </header>

    <section class="search-area">
      <div class="search-input card" role="search">
        <input id="searchBox" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥ (ì¸ì±ˆíŠ¸ ì´ë¦„) â€” ì˜ˆ: 'ì¬ë ¨', 'íˆ¬ì°½' ..." />
        <button id="searchBtn" title="ê²€ìƒ‰">ğŸ”</button>
      </div>

      <div class="tier-row" id="tierRow">
        <!-- í‹°ì–´ ë²„íŠ¼ë“¤ (JSì—ì„œ ìƒì„±) -->
      </div>
    </section>

    <section class="main">
      <div class="card" style="min-height:400px;">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
          <strong>Enchantments List</strong>
          <div style="color:var(--muted);font-size:13px">ì´ <span id="countTotal">0</span>ê°œ</div>
        </div>

        <table id="enchTable" class="ench-table" aria-describedby="enchant-list">
          <thead>
            <tr>
              <th style="width:140px">í‹°ì–´</th>
              <th>ë“±ê¸‰</th>
              <th>ì ìš© ëŒ€ìƒ</th>
              <th style="width:110px">ìµœëŒ€ ë ˆë²¨</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>

      <aside class="card detail" id="detailPanel" aria-live="polite">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <strong>ìƒì„¸ë³´ê¸°</strong>
          <span style="color:var(--muted);font-size:13px" id="detailTier"></span>
        </div>
        <div class="book" id="bookPreview">
          <img src="0003.png" alt="enchant book" style="max-width:140px; opacity:0.95">
        </div>
        <h3 id="detailName">í•­ëª©ì„ ì„ íƒí•˜ì„¸ìš”</h3>
        <p id="detailDesc" style="color:var(--muted)">ì™¼ìª½ ëª©ë¡ì—ì„œ ì¸ì±ˆíŠ¸ë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>

        <div class="meta">
          <div class="row"><span>ì ìš© ëŒ€ìƒ</span><strong id="detailTarget"></strong></div>
          <div class="row"><span>ìµœëŒ€ ë ˆë²¨</span><strong id="detailMax"></strong></div>
        </div>
      </aside>
    </section>
  </div>

<script>
/*
  ë°ì´í„° ì„¹ì…˜
  - names: ì¸ì±ˆíŠ¸ ì´ë¦„ ëª©ë¡ (ì‚¬ìš©ìê°€ ì œê³µí•œ ìˆœì„œ)
  - grades: ë“±ê¸‰(ë¬¸ìì—´: ì‹ í™”/ì „ì„¤/ê·¼ë³¸/ì¼ë°˜/íŠ¹ë³„/ì—˜ë¦¬íŠ¸) â€” ìˆœì„œëŒ€ë¡œ
  - maxLevels: ìš”ì²­í•˜ì‹  'ìµœëŒ€ ë ˆë²¨' ìˆ«ì ì‹œí€€ìŠ¤ (ë„ì–´ì“°ê¸° í‘œê¸° 'ìµœëŒ€ ë ˆë²¨')
  - targets: 'ì ìš© ëŒ€ìƒ' ìˆœì„œëŒ€ë¡œ (ì‚¬ìš©ìê°€ ì œê³µí•œ ë¦¬ìŠ¤íŠ¸)

  ì´ 4ê°œ ë°°ì—´ì€ ë™ì¼í•œ ê¸¸ì´(=ì¸ì±ˆíŠ¸ ìˆ˜)ë¥¼ ê°€ì§‘ë‹ˆë‹¤.
  (ì•„ë˜ ë°ì´í„°ëŠ” ì‚¬ìš©ì ìš”ì²­í•˜ì‹  ëª¨ë“  í•­ëª©ì„ ìˆœì„œëŒ€ë¡œ ì˜®ê¸´ ê²ƒì…ë‹ˆë‹¤.)
*/

/* 1) ì¸ì±ˆíŠ¸ ì´ë¦„ (ì›ë¬¸ ê·¸ëŒ€ë¡œ â€” ì•ì„  ì‚¬ìš©ì ì…ë ¥ì˜ ìˆœì„œ) */
const names = [
"ë‚™ë¢°","ìˆ˜ì¤‘ í˜¸í¡","ì¬ë ¨","ìˆ™ë ¨","ê´‘ë¶€","í˜¸í¡ ë³´ì¶©","ì•¼ì‹œê²½","ì°¸ìˆ˜","ë°€ì–´ë‚´ê¸°","íŒ…ì»¤ë²¨",
"ì¢€ë¹„ í•™ì‚´ì","ìŠ¤ì¼ˆë ˆí†¤ í•™ì‚´ì","ì¬ìˆ˜í™•","í—Œí„°","ê´‘ì „ì‚¬","ë°˜ì‚¬","í”¼í•´ í¡ìˆ˜","í­ë°œ í™”ì‚´","í­ë°œ ì„ê¶","ë¶€ìŠ¤í„°",
"í™”ì—¼ ê°‘ì˜·","ì „íˆ¬ì‹ëŸ‰","ì—¼ë ¥","í­ë°œì  ìµœí›„","ë„ì‚´ì","ì‚¬ëƒ¥ê¾¼","ë¬´ìë¹„","ë…ì¹¨","ì†Œë©¸","í¬ì‹",
"íˆ¬ì°½","ë… ê°ˆê³ ë¦¬","í™”ì—¼ ê°ˆê³ ë¦¬","ê´‘ë§¥ ì±„êµ´","ì—”ë” í•™ì‚´ì","ê±°ë¯¸ í•™ì‚´ì","ë‚šì‹œê¾¼","í¬íš","ì‚¬ì‹ ","ë„¤ë” í•™ì‚´ì",
"ì‹¤ëª…","ìœ í˜¹","ë¹™ê²°","ì‡¼í¬","ë…ì‚¬","í¬ì´ì¦Œ","ëª…ì¥","ë«","ìŠ¤í”„ë§","ì¢€ë¹„ ì†Œí™˜",
"íƒˆì§„","ìœ„ë”","ìŠ¤ëª¨í¬","í—¬íŒŒì´ì–´","ì†Œí™”","ë°˜í•­","í¡í˜ˆê·€","ê¶ìˆ˜ ì‚¬ëƒ¥ê¾¼","ê²€ì‚¬ ì‚¬ëƒ¥ê¾¼","ë¡œì¼“ íƒˆì¶œ",
"ë°±ì–´íƒ","ì €ì£¼","ì œíŠ¸íŒ©","ì‚¬ìˆ˜","í¬ì„¸ì´ëˆ","ê´‘ì‚° ì ì‘","í­íŒ” í™”ì‚´","ì¹˜ëª…íƒ€","ë¶ˆê½ƒ","ê°•íƒ€",
"ê³ ì • ê³µê²©","ì„œë¦¬","ë§¤í˜¹","ìˆ˜í™•","ë°€ íŒŒì¢…","ê°ì íŒŒì¢…","ë‹¹ê·¼ íŒŒì¢…","ë‚™ë²•","ì‚¬ìŠ¬ ë‚šì‹œëŒ€","í–‰ìš´ì˜ ë‚šì‹œê¾¼",
"ê³¼ë‹¤ ì¶œí˜ˆ","ë²Œëª©","ë°±ìŠ¤í…","ë„ë¼ë³‘","ë²”ìœ„ê³µê²©","êµ¬ì›","í™”ì‚´ ë°˜ì‚¬","í™”ì‚´ ì°¨ë‹¨","ì•½í™”","ë°©í•´",
"ì„±í™”","ë„‰ë°±","íŒ¨ë§","ëŒ€ì§€íŒŒê´´","í„°ë„ë§","íšŒí”¼","ìˆ˜í˜¸ì","ì–¼ìŒì˜ ê²€","ê°•í™”","ì‹ëŸ‰ ì£¼ì…",
"ì´í”„ë¦¬íŠ¸ì˜ íœë˜íŠ¸","ì‹ ê¶","ë³´ìš°ë§ˆìŠ¤í„°","ì¸ë‚´","ì€ì‹ ","í˜¼ë€","ë¶„í•´","íŒŒì‡„","ì¤‘ê°‘","ì§€ì˜¥ë¶ˆ",
"ê¶ìˆ˜ ì‚¬ëƒ¥ê¾¼","ì•„ì´í…œ ì…”í”Œ","ë„ë¼ë°©ì–´","ê²€ìˆ ì‚¬","ë„¤ë”ë§ˆìŠ¤í„°","ì—”ë“œë§ˆìŠ¤í„°","ë„ë¼ë°©ì–´(ì¤‘ë³µ)","ë¸”ë ˆì´ì¦ˆ ì†Œí™˜ìˆ˜","ì¶œí˜ˆ","ì†Œê°",
"í™”ì‚´ë¹„","í—¤ë“œìƒ·","ê³µìˆ˜ ë¶€ëŒ€","ì§€ë©´ ê°•íƒ€","ë°¤ì˜ ì‚¬ëƒ¥ê¾¼","ìˆ˜í˜¸ìì˜ ë¿”í”¼ë¦¬","ë¡±ê¸°ëˆ„ìŠ¤ì˜ ì°½","ë‚ ê°œ","ì•„ìˆ˜ í•™ì‚´ì","ìš´ë””ë„¤ì˜ ê°€í˜¸",
"ê²½í™”","ê¸´ê¸‰ ìˆ˜ë¦¬","ì‹¤ìˆ˜","ì†Œí™˜ ë°©í•´","ë°˜ê²©","ë‡Œìš´","ìš©ì•” ê±·ê¸°","ìˆ˜ë©´ ê±·ê¸°","ìˆ˜ì¤‘ í•™ì‚´ì","ì‹¬íŒ",
"ì „í™˜","ì„±í™”(ì¤‘ë³µ)","í˜¼ëˆ","ì—ì–´ë³¸","ì¶•ë³µì˜ ê°‘ì˜·","ì¼ê²©","ê°œì•ˆ","ì´ì¤‘íƒ€ê²©","ê¸°ì–´","í™”ì—¼ êµ°ì£¼",
"ì œë…¸ì‚¬ì´ë“œ","íƒêµ¬ì","í¡í˜ˆ","ì¶”ê°€ ì²´ë ¥","ì¥ê°‘","ë“±ê°€êµí™˜","ì˜ì†","ë¬´ì¥ í•´ì²´","íŠ¸ë¦¬ì•„ì´ë‚˜","í¬ì„¸ì´ëˆ(ì¤‘ë³µ)",
"ë„ì•½","ìˆœê°„ ê°€ì†","ë‚™ë¢° êµ°ì£¼","ë¸”ë¡í™”","ëª…ì¥(ì¤‘ë³µ)","ë³µì›","ë¶ˆë©¸","ë‚´êµ¬ì„± ë¬´í•œ","ì˜í˜¼ ê²°ì†","ë¬´ì¥ í•´ì œ(ì¤‘ë³µ)",
"ë¶€í™œ","ê³µí¬","ê·¹ì‚´","ëŒì§„","ë³µì œ","ë‹¤ì¤‘ ì±„êµ´","ì˜í˜¼ì˜ ì£¼ì¸","ì˜í˜¼ì˜ ë„ë¼","ì˜í˜¼ì˜ ì±„êµ´ì","ì˜í˜¼ì˜ ì‚¬ëƒ¥ê¾¼"
];

/* 2) ë“±ê¸‰(í‹°ì–´) â€” ì‚¬ìš©ì ì œê³µ ë¶„ë¥˜ì— ë§ì¶° ìˆœì„œëŒ€ë¡œ */
const grades = [
"ì¼ë°˜","ì¼ë°˜","ì¼ë°˜","ì¼ë°˜","ì¼ë°˜","ì¼ë°˜","ì¼ë°˜","ì¼ë°˜","ì¼ë°˜","ì¼ë°˜",
"ì¼ë°˜","ì¼ë°˜","íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„",
"íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„","íŠ¹ë³„",
"ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸",
"ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸",
"ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸",
"ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ì—˜ë¦¬íŠ¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸",
"ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸",
"ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸",
"ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ê·¼ë³¸","ì „ì„¤",
"ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤",
"ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤","ì „ì„¤",
"ì „ì„¤","ì „ì„¤","ì „ì„¤","ì‹ í™”","ì‹ í™”","ì‹ í™”","ì‹ í™”","ì‹ í™”","ì‹ í™”","ì‹ í™”",
"ì‹ í™”","ì‹ í™”","ì‹ í™”","ì‹ í™”","ì‹ í™”","ì‹ í™”","ì‹ í™”","ì‹ í™”","ì‹ í™”","ì‹ í™”"
];

/* 3) ìµœëŒ€ ë ˆë²¨ (ìš”ì²­í•œ ì‹œí€€ìŠ¤ â€” ë„ì–´ì“°ê¸° í‘œê¸°ë¡œ 'ìµœëŒ€ ë ˆë²¨'ë¡œ ì—´ì— í‘œì‹œ) */
const maxLevels = [
3,1,3,5,3,2,1,3,5,3,
5,3,1,4,5,5,4,5,5,3,
4,4,4,8,4,4,4,3,5,3,
4,3,3,3,5,3,3,3,4,5,
3,3,3,4,3,4,10,4,3,10,
6,5,8,3,3,5,3,5,5,3,
8,2,3,4,4,3,5,3,3,4,
3,3,3,9,3,3,3,3,9,3,
5,3,4,7,7,5,4,6,1,2,
4,4,3,9,9,5,10,3,4,3,
1,5,4,2,4,4,4,4,5,5,
4,4,5,3,3,3,10,6,3,3,
5,3,3,3,3,4,1,4,3,3,
3,3,3,3,1,1,4,5,5,5,
5,6,6,4,3,3,3,3,5,4,
5,3,4,5,1,8,5,3,3,3,
3,1,3,4,4,1,3,3,3,5,
4,3,5,5,3,3,3,3
];

/* 4) ì ìš© ëŒ€ìƒ (ìš”ì²­í•˜ì‹  ê¸´ ì‹œí€€ìŠ¤ë¥¼ ìˆœì„œëŒ€ë¡œ ë¶™ì—¬ë„£ìŒ) */
const targets = [
"ê²€, í™œ, ì‡ ë‡Œ, ì‚¼ì§€ì°½","ëª¨ì","ê³¡ê´­ì´","ë„êµ¬","ë„êµ¬","ê³¡ê´­ì´","ëª¨ì","ê²€, ë„ë¼","ê²€","ê²€",
"ê²€, ë„ë¼","ê²€, ë„ë¼","ë‚«","ë¬´ê¸°","ê²€, ë„ë¼","ê°‘ì˜·","ê°‘ì˜·","í™œ","ì‡ ë‡Œ","ê²€, ë„ë¼",
"ê°‘ì˜·","ê²€, ë„ë¼","ë„êµ¬","ê°‘ì˜·","ê²€, ë„ë¼","í™œ, ì‡ ë‡Œ, ì‚¼ì§€ì°½","í™œ, ì‡ ë‡Œ, ì‚¼ì§€ì°½","í™œ, ì‡ ë‡Œ, ì‚¼ì§€ì°½","í™œ, ì‡ ë‡Œ, ì‚¼ì§€ì°½","ë¬´ê¸°",
"ì‚¼ì§€ì°½","ë‚šì‹¯ëŒ€","ë‚šì‹¯ëŒ€","ê³¡ê´­ì´","ë¬´ê¸°","ê²€, ë„ë¼","ë‚šì‹¯ëŒ€","ë‚šì‹¯ëŒ€","ë„ë¼","ë¬´ê¸°",
"ê²€","ê²€","ê°‘ì˜·","ê²€, ë„ë¼","ê²€, ë„ë¼","ê°‘ì˜·","ë¬´ê¸°ì™€ ë„êµ¬","í™œ","ì‹ ë°œ","ì‹ ë°œ",
"ê°‘ì˜·","ê°‘ì˜·","ëª¨ì","ê²€, ë„ë¼","ë°”ì§€","í‰ê°‘","ê²€","ê²€","í™œ, ì‡ ë‡Œ, ì‚¼ì§€ì°½","ì‹ ë°œ",
"ê°‘ì˜·","ê°‘ì˜·","ê²‰ë‚ ê°œ","ì‡ ë‡Œ","ì‚¼ì§€ì°½","ê³¡ê´­ì´","ì‡ ë‡Œ","ê²€","ì‚¼ì§€ì°½","ë„ë¼",
"ê²€","ê²€","ê²€","ë‚«","ë‚«","ë‚«","ë‚«","ì‹ ë°œ","ë‚šì‹¯ëŒ€","ë‚šì‹¯ëŒ€",
"ê²€","ë„ë¼","ë¬´ê¸°","ë„ë¼","ê²€, ë„ë¼","ê°‘ì˜·","ê°‘ì˜·","ë„ë¼","ë„ë¼","ê²€",
"ê²€","ê°‘ì˜·","ê²€","ê³¡ê´­ì´, ì‚½","ê³¡ê´­ì´, ì‚½","ê°‘ì˜·","ê°‘ì˜·","ê²€","ê²‰ë‚ ê°œ","ëª¨ì",
"ê°‘ì˜·","í™œ","í™œ","ê°‘ì˜·","ê°‘ì˜·","ê²€","ê²€","ë„ë¼","ê°‘ì˜·","í™œ",
"ê²€","ê°‘ì˜·","ê°‘ì˜·","ê²€","ê²€","ê°‘ì˜·","ê°‘ì˜·","ë„ë¼","ê²€","í™œ",
"í™œ","ì‹ ë°œ","ì‹ ë°œ","ê²€","ì—¼ì†Œ ë¿”","ì‚¼ì§€ì°½","ì‹ ë°œ","ê²€, ë„ë¼","ë‚šì‹¯ëŒ€","ê°‘ì˜·",
"ê°‘ì˜·","í‰ê°‘","ê°‘ì˜·","ë¬´ê¸°","ë¬´ê¸°","ì‹ ë°œ","ì‹ ë°œ","ì‹ ë°œ","ê²‰ë‚ ê°œ","ê°‘ì˜·",
"ê°‘ì˜·","ì‚¼ì§€ì°½","ì‹ ë°œ","í‰ê°‘","ë„ë¼","ê°‘ì˜·","ê²€","ì‹ ë°œ","ë„ë¼","ê²€",
"ê²€","ê²€","ê°‘ì˜·","ê°‘ì˜·","ë„ë¼","ë¬´ê¸°","ê²€","ì‚¼ì§€ì°½","ì‚¼ì§€ì°½","ê²€",
"ê²‰ë‚ ê°œ","ê²€","ê³¡ê´­ì´","ë„êµ¬","ë„êµ¬","ê°‘ì˜·","ë„êµ¬","ë¬´ê¸°, ë„êµ¬, í™œ","ê²€","í‰ê°‘",
"ë¬´ê¸°","ë¬´ê¸°","ê²‰ë‚ ê°œ","ë¬´ê¸°","ê³¡ê´­ì´","ê²€","ë„ë¼","ê³¡ê´­ì´","ê²€"
];

/* --- ìƒ‰ìƒ ë§µ(í‹°ì–´ -> HEX) --- */
const tierColor = {
  "ì‹ í™”": "#FC54FC",
  "ì „ì„¤": "#FCA800",
  "ê·¼ë³¸": "#FCFC54",
  "ì¼ë°˜": "#FCFCFC",
  "íŠ¹ë³„": "#54FC54",
  "ì—˜ë¦¬íŠ¸": "#54FCFC"
};

/* ìœ íš¨ì„± ê²€ì¦ â€” ë°°ì—´ ê¸¸ì´ ë§ì¶”ê¸° */
if(!(names.length === grades.length && names.length === maxLevels.length && names.length === targets.length)){
  console.warn("ë°ì´í„° ê¸¸ì´ ë¶ˆì¼ì¹˜: ", names.length, grades.length, maxLevels.length, targets.length);
}

/* ë°ì´í„° í•©ì¹˜ê¸° */
const data = names.map((n,i)=>({
  id: ("000"+(i+1)).slice(-4)+".png",
  name: n,
  grade: grades[i] || "",
  maxLevel: maxLevels[i] || "",
  target: targets[i] || ""
}));

/* --- UI ë Œë”ë§ --- */
const tbody = document.querySelector("#enchTable tbody");
const countTotal = document.getElementById("countTotal");
const detailName = document.getElementById("detailName");
const detailDesc = document.getElementById("detailDesc");
const detailTarget = document.getElementById("detailTarget");
const detailMax = document.getElementById("detailMax");
const detailTier = document.getElementById("detailTier");
const bookPreview = document.getElementById("bookPreview");

/* í‹°ì–´ ë²„íŠ¼ ìë™ ìƒì„± (ì •í•´ì§„ ìˆœì„œë¡œ) */
const tierOrder = ["ì‹ í™”","ì „ì„¤","ê·¼ë³¸","ì¼ë°˜","íŠ¹ë³„","ì—˜ë¦¬íŠ¸"];
const tierRow = document.getElementById("tierRow");
const activeTiers = new Set();

tierOrder.forEach(t=>{
  const btn = document.createElement("button");
  btn.className = "tier-btn small";
  btn.style.border = `1px solid ${hexToRgba(tierColor[t],0.12)}`;
  btn.style.background = linearTint(tierColor[t],0.95);
  btn.textContent = t;
  btn.dataset.tier = t;
  btn.addEventListener('click', ()=>{
    if(activeTiers.has(t)){ activeTiers.delete(t); btn.classList.remove('active'); }
    else { activeTiers.add(t); btn.classList.add('active'); }
    renderTable();
  });
  tierRow.appendChild(btn);
});

/* ê·¸ë¦¬ê¸° í•¨ìˆ˜ */
function renderTable(filterText = ""){
  tbody.innerHTML = "";
  const q = (filterText||"").trim().toLowerCase();
  let shown = 0;
  data.forEach((row, idx) => {
    // í•„í„°: í‹°ì–´ ì„ íƒì´ ìˆìœ¼ë©´ ê·¸ì— í¬í•¨ë˜ì–´ì•¼ í•¨
    if(activeTiers.size && !activeTiers.has(row.grade)) return;
    // í…ìŠ¤íŠ¸ í•„í„°: ì´ë¦„ ë˜ëŠ” ëŒ€ìƒ(ì ìš©ëŒ€ìƒ)ìœ¼ë¡œ ê²€ìƒ‰
    if(q){
      const hay = (row.name + " " + row.target + " " + row.id).toLowerCase();
      if(!hay.includes(q)) return;
    }
    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td><div class="chip" style="background:${linearTint(tierColor[row.grade]||"#fff",0.96)};border:1px solid ${hexToRgba(tierColor[row.grade]||"#000",0.12)}">
            <span class="dot" style="background:${tierColor[row.grade]||'#000'}"></span>
            <strong style="font-weight:800;color:${row.grade==='ì¼ë°˜'?'#333':tierColor[row.grade]||'#111'}">${row.grade}</strong>
          </div></td>
      <td><strong>${row.name}</strong><div style="color:var(--muted);font-size:12px;margin-top:4px">${row.id}</div></td>
      <td>${escapeHtml(row.target)}</td>
      <td style="text-align:right"><strong>${row.maxLevel}</strong></td>
    `;
    tr.addEventListener('click', ()=> showDetail(row));
    tbody.appendChild(tr);
    shown++;
  });
  countTotal.textContent = shown;
}

/* ì´ˆê¸° ë Œë” */
renderTable();

/* ê²€ìƒ‰ ì´ë²¤íŠ¸ */
document.getElementById("searchBtn").addEventListener('click', ()=>{
  const q = document.getElementById("searchBox").value;
  renderTable(q);
});
document.getElementById("searchBox").addEventListener('keydown', (e)=>{
  if(e.key === "Enter"){ renderTable(e.target.value); }
});

/* ìƒì„¸ í‘œì‹œ */
function showDetail(row){
  detailName.textContent = row.name;
  detailTier.textContent = row.grade;
  detailTarget.textContent = row.target;
  detailMax.textContent = row.maxLevel + " (ìµœëŒ€ ë ˆë²¨)";
  detailDesc.textContent = `íŒŒì¼: ${row.id}`;
  // book previewì— í° ì¸ì±ˆíŠ¸ë¶ ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸
  bookPreview.innerHTML = `<img src="0003.png" alt="book">`;
}

/* Helpers: ìƒ‰ìƒ ìœ í‹¸ */
function hexToRgba(hex, alpha=1){
  hex = hex.replace("#","");
  const r = parseInt(hex.substring(0,2),16);
  const g = parseInt(hex.substring(2,4),16);
  const b = parseInt(hex.substring(4,6),16);
  return `rgba(${r},${g},${b},${alpha})`;
}
function linearTint(hex, mix=0.9){
  // mix 0..1; closer to 1 -> white
  hex = hex.replace("#","");
  const r = parseInt(hex.substring(0,2),16);
  const g = parseInt(hex.substring(2,4),16);
  const b = parseInt(hex.substring(4,6),16);
  const nr = Math.round(r + (255 - r) * mix);
  const ng = Math.round(g + (255 - g) * mix);
  const nb = Math.round(b + (255 - b) * mix);
  return `rgb(${nr},${ng},${nb})`;
}
function escapeHtml(s){ return (s||"").replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;"); }

</script>
</body>
</html>
